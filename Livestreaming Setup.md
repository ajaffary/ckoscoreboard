# A/V Setup

## Notes:  
- Anything labeled "To Be Determined" (TBD) is not 100% certain.  We are still experimenting with different setups.
- I've put all Hardware setup in the order I tend to do it, but most of it can be done in any order.
- If you're doing any setup outside of regular practice, please feel free to connect to Logitech Adapter and play music (shows up as Logitech BT)
- If you're doing any setup from scratch on bout day, you can set up the Mixer, Bluetooth, & Speaker 1 before everything else and play music while doing the rest.


## Main Audio Hardware
- (2) JBL Powered Speakers
  - Power Cords
  - 1/4" Long Cable (Green Coil)
  - Carvin XLR Wireless Transmitter & Receiver
    - Charging Cables + Brick
- (1) OnStage Tripod Mount for JBL Speaker
- Behringer 8-channel Mixer
- (2) Shure Microphones
- (2) Tabletop Mic Stands
- Logitech Bluetooth Audio Adapter
  - 1/8" to RCA cord
  - Power Cord
- Power Strip
- Extension Cords (several)

## Scoreboard
- Scoreboard Controller
- 1/4" Cable
- Power Cord

## Livestreaming Hardware
- Verizon Wireless Internet Box
- Ethernet Switch
  - (TBD) Power over Ethernet (PoE)
- Macbook Laptop --> Stream machine
  - USB-C Hub
  - USB-A Hub
- Windows Laptop --> Wireless Receiver for Eddie
- MSI Monitor
- NEC Monitor
  - VGA + USB-C adapter
- USB-A HDMI-in Video Adapter
- USB Audio Interface
- Tascam Multitrack Recorder
- Sony Headphones
- Bluetooth Keyboard
- USB Keyboard
- Bluetooth Mouse
- USB Mouse
- USB Game Controller (backup for PTZ camera)
- iPhone Camera (Goat)
  - Lightning to HDMI adapter
  - Power Bank + Charging Cable
  - (2) Phone mount/clamps for Phone & Power Bank
- Samsung Phone Camera (E)
  - (Need) USB-C to HDMI adapter
  - Custom dual phone holder + stand
  - Power Bank + Charging Cables
  - (Need) Mount for Power Bank
- USB-C Wireless Lavalier Microphones (optional)
- External SSD (for ATEM Mini)
- Cables:
  - Ethernet
  - HDMI
  - Various USB
  - Power cords + dongles for all of the above
  - Various audio (RCA, 1/8", 1/4", XLR)
  - Extension cords (several)
  - Power Strips
- Rental Equipment:
  - (TBD) PTZ Camera
  - (TBD) PTZ Controller Keyboard
  - Hollyland Wireless Video Transmitter/Receiver (HDMI/SDI)
  - Tall Tripod Stand
- On order:
  - ATEM Mini Pro SDI ISO
  - Carrying Case
  - SDI Cables
  - SDI/HDMI Bidirectional Converter
- (TBD) Additional Purchases:
  - Dedicated Static Broadcast Camera
  - Wide Angle PTZ Camera
  - SDI/HDMI Bidirectional Converter

## Livestreaming Software
- OBS Studio (Mac)
  - JSON Scorekeeper Plugin
  - PTZ Control Plugin
  - CKO Custom Scoreboard Overlay
- Twitch Account
  - Chat/Status Window for OBS
- Visual Studio Code (Mac)
- Visual Studio Code (Windows)
- Airserver (Mac)
- Airserver (Windows)
- Black Magic iPhone Camera App
- NDI Tools (Mac & Windows)
  - NDI Video Monitor
  - (TBD) NDI Plugin for Adobe Premiere Pro
  - (TBD) NDI Plugin for Adobe After Effects
- Coming soon:
  - ATEM Mini Control Studio
  - CKO Custom LUTs
- (TBD) Additional Software:
  - Ableton Live (audio processing)

## Additional Recording Hardware
- Osmo 3 Sports Cam (Ricky)
  - Power Bank + Charging cord
  - Mic stand + clamp
  - (2) Phone mounts for Camera + Power Bank
- GoPro Hero3 Sports Cam (Vixens/CKO)
  - Micro-USB charging cable + Power Brick + Extension cord
  - Mic stand + clamp/mount
- Micro SD Memory cards
- 4 TB Backup HDD
- (TBD) Rental:
  - Black Magic PocketCamera 6k
  - External SSD
  - Power Cable
  - Tall Tripod Stand

## Additional Recording Software
- Adobe Premiere Pro
- Adobe After Effects
- OBS Studio (haven't tested Recording + Streaming)
- Coming soon:
  - CKO Custom LUTs

## Main Audio Hardware Setup

### Preparation

#### Supply Closet
- Please retrieve:
  - Black Carrying Case for Mixer/Mics
  - Brown Box of Extension Cords/Cables
  - OnStage Speaker Tripod
  - 2nd JBL Speaker

- Black Carrying Case and the Brown Box of Extension Cords:
  - Placement: behind the Announcer Table
- OnStage Speaker Tripod:
  - Placement: Open and stand up on Stage Right, next to ScoreKeeper
    - Please place one leg toward stage, and other two legs toward curtain
- Speaker 2:
  - Find Short Black Power Cord in Brown Box
  - Placement:
    - Audience Seating, Stage Left side, at the top of steps next to Green 3-Outlet Extension Cord
    - Lay speaker on its side, tilted upward toward audience
  - Power:
    - Plug Power Cord into back of Speaker 2 and connect to Green 3-outlet Extension
  - Leave Speaker 2 Powered OFF for now

#### Extensions Cords Setup
- In the Brown Box, please find:
  - Long Green 1-outlet Extension Cord
  - Longer Green 1-Outlet Extension Cord
  - Brown 3-Outlet Extension Cord
- At the Stage Left Wall (by medical equipment), please find:
  - Long White 1-Outlet Extension cord
##### Longer Green 1-Outlet Extension:
  - Plug: Stage Right wall under the Fuse Box
  - Placement:  Place extension near right side of Announcer Table
##### Brown 3-Outlet Extension:
  - Plug: Stage Right wall under the Fuse Box
  - Placement:  Place extension behind Speaker Tripod
##### Long White 1-Outlet Extension:
  - Plug: Stage Left wall by medical equipment
  - Placement:  Place extension near left side of Announcer Table
##### Long Green 1-Outlet Extension (See GoPro Camera):
  - Plug: 3-Outlet Green Extension in Audience Seating, Stage Left
  - Placement: Place extension around Mic Stand at Turn 3 

#### Disconnect Speaker 1 + Bluetooth Adapter
- Speaker 1 is already on Stage from CKO Practice
  - Logitech Bluetooth Adapter is connected
  - Power Strip is connected
  - There should be a One Tail at a Time zipper pouch (with other audio cables in it) on or near Speaker 1
- Disconnect Speaker 1 power cord & Logitech power brick from 6-outlet Power Strip
- Disconnect audio cable (1/4" to 1/8") between back of Speaker 1 and Logitech Adapter and place in One Tail at a Time Pouch
- Place Logitech Adapter + Power Brick and One Tail at a time Pouch on right side of Announcer Table
- Plug 6-outlet Power Strip into Green Extension Cord on right side of Announcer Table, and leave Power Strip on floor, slightly under the table
- Mount Speaker 1 on top of Speaker Tripod
  - Return to Speaker 1 after Mixer & Mics setup

### Mixer & Mics Setup

#### Preparation
- Black Carrying Case contains:
  - Behringer 8-Channel Mixer
  - Power Supply (large brick w/two cords)
  - Black Zipper Pouch containing 2 Shure Microphones and a white box w/Carvin Wireless Transmitters + Charging Cable
- White Storage Tote contains:
  - 2 Tabletop Mic Stands

#### Behringer Mixer
- Placement: about 1 foot in from right side of Announcer Table so Announcer 2 (see below) can access it 
- Power:
  - Connect Power Supply to Mixer and plug Power Brick into 6-Outlet Power Strip
  - Leave Power Brick on floor next to Power Strip
  
#### Logitech Bluetooth Adapter
- Power: Plug Logitech Adapter Power Brick into 6-Outlet Power Strip
  - I usually plug into the very last outlet to leave more room for other plugs
- Connection:
  - Find RCA to 1/8" audio cable from One Tail at a Time pouch
  - Connect 1/8" end into Logitech Adapter
  - Connect RCA into TAPE IN Inputs on top/right side of mixer

#### Microphones
- Find (2) XLR cables from Brown Box
##### Tabletop Mic Stands
- Placement: Announcer Table
  - Announcer 1 is LEFT Seat
  - Announcer 2 is RIGHT Seat

##### Mic 1
  - Placement: Announcer 1 Mic Stand
  - Connection: XLR Cable to INPUT 1 on Mixer
##### Mic 2
  - Placement: Announcer 2 Mic Stand
  - Connection: XLR Cable to INPUT 2 on Mixer

### Speakers + Wireless Audio Transmitter

#### Speaker 1
- In Brown Box, find Green Coil with Brown 1/4" Cable w/White Ends
- Connection: 
  - Connect one end to L MAIN OUT on Behringer Mixer
    - Please make sure it's the Left L output, not R, as this is how it's sent to Tascam Recorder
  - Connect other end to INPUT on back of Speaker 1
- Power: Plug Power Cord from back of Speaker 1 into Brown 3-Outlet extension cord
- Turn Speaker 1 ON if not ON already

##### Notes
- Power on the Mixer and play music through the Bluetooth Adapter and/or check microphones to test audio through Speaker 1 BEFORE connecting Wireless Transmitters

#### Carvin Wireless Transmitters
- Retrieve from the Black Zipper Pouch in the Black Carrying Case
  - One says TRANSMITTER (the angled one)
  - One says RECEIVER
- Turn them both on
  - One side has a Power Button
  - One side has a Wireless Channel button
  - Power LEDs indicate how much power they have
    - If they do not power on, plug the charging cables into both, and plug the brick into any Power Strip
      - You can use the one by the Announcer Table, or the 10-Outlet Black one by the Computer Desk
      - Leave until the LEDs are fully charged (4 LEDs) and then come back to Speaker 2

#### Speaker 2 Setup

##### Carvin Wireless Transmitters
  - After fully charged and and powered on, they should automatically sync Channels
    - If the Channels are not synced, press Channel button to put them on the same Channel (1-4)
  - Once synced, plug TRANSMITTER into OUTPUT at back of Speaker 1
  - Plug RECEIVER into INPUT at back of Speaker 2
- Turn on Speaker 2
  - If you have music playing through Bluetooth, you should now hear it through Speaker 2

##### Notes
- If the Transmitters are partially charged, feel free to connect and test audio through both Speakers before doing any other setup
- Transmitters need to be at 100% before the bout begins

### Tascam Recorder
- Placement: top right of the Announcer Table and face AWAY from the Announcers
  - There are two built-in condensor microphones on the front of the unit
  - These mics should face the track/audience
  - The audio inputs on the back of the unit should face the Announcers
- Power: 
  - Plug round end of Power Cord into right side of Tascam
  - Connect Power Brick to 6-outlet Power Strip
  - Press and HOLD Power Button on Tascam until LCD Screen lights up and you see TASCAM logo
- Connection:
  - Find RCA to 1/8" cable + 1/8" to 1/4" adapter
  - Connect RCA cable (L/R) to TAPE OUT (L/R) at top/right end of Behringer Mixer
  - Connect 1/4" end to INPUT A (1/4" input) on back of Tascam Recorder
- Initialize Track for Recording:
  - CREATE NEW TRACK (need directions)
  - Adjust PAN to 50% on TRACK 1 and TRACK 8
  - Adjust LEVEL to 50% on TRACK 1 and TRACK 8
  - REVERB should be set to 0 on all tracks
  - Press ready to record button on TRACK 1 and TRACK 8
    - Track 1 will record the Announcers directly from the mixer
    - Track 8 will record the auditorium background with the internal mics
    - Both of these inputs will be sent to the  Livestream (See Scarlet 2i2)
- Record Audio:
  - Press PLAY + RECORD buttons at 7:45 to begin audio recording

### Sound Test
- Speak through each Microphone and check that sound is coming through both Speakers
- Audio levels should be set from previous bouts
  - Feel free to adjust if need be, and do another audio test once Announcers arrive
- On the Tascam Recorder:
  - Please check to see that the INPUT A and INPUT B meters are receiving the Mixer audio
  - TRACK 1 and TRACK 8 levels should also show audio activity
  - Plug Headphones into Headphone jack and test audio levels
    - Repeat Audio Test with Microphones
    - Do not adjust Mixer to accommodate Tascam    
    - Adjust Mic/Line on INPUT A
    - Adjust Mic/Line on INPUT B
    - Adjust LEVEL on Track 1 and Track 8
    - These may need to be adjusted again when testing Livestream Sound

## Livestreaming Hardware Setup

### Computers

#### Mac Laptop:
- Plaement: middle, back of Computer Desk
- Power:
  - Connect Power Cord from White Square Brick to Black 10-outlet Power Strip
  - Connect White USB-C to Magsafe Cable from Power Brick to Macbook
    - Leave Power Brick near/behind Mac Laptop on Computer Desk
- USB/Ethernet HUB: 
  - Attach Silver USB/Ethernet Hub to 2 USB-C ports on left side of Mac Laptop (next to Magsafe port)
- Network:
  - Connect Ethernet Cable to Ethernet Switch
  - Wifi should connect automatically
- Video Out:
  - (See MSI Monitor) Connect HDMI cable from HDMI port on right side of Mac Laptop to HDMI Input on back of MSI Monitor
- (TBD) ATEM Mini Pro USB-C-in to USB Hub
- (Optional) Connect Bluetooth Keyboard
- (Optional) Connect Bluetooth Mouse
- (Optional) Connect USB-C to USB-A Hub to USB-C port on right side of Mac Laptop

#### Windows Laptop:
- Placement: right side, back of Computer Desk
- Power:
  - Connect Power Cord from Black Rectangular Brick to Black 10-outlet Power Strip
  - Connect Rounded Cord from Power Brick to Power Port on left side of Windows Laptop
- Network:
  - Connect Ethernet Cable to Ethernet Switch
  - Wifi should automatically connect
- Video Out 1:
  - Plug HDMI Cable into HDMI port on left side of Windows Laptop (next to power port) 
  - Plug other end of HDMI cable into USB-A to HDMI Video out Adapter
  - Plug USB-A HDMI Video Adapter into USB-A port on USB Ethernet Hub on LEFT side of Mac Laptop Pro
- Video Out 2:
  - (See NEC Monitor) Connect VGA to USB-C adapter from NEC Monitor into USB-C port on LEFT side of Windows Laptop
- USB Keyboard:
  - (See USB-A Keyboard) Connect Blue USB-A Extension OUT from USB-A Keyboard to USB-A port on left side of Windows Laptop

#### MSI Monitor
- Placement:
  - Left side, back of Computer Desk
- Power:
  - Power Brick & Cables bound with PURPLE rubber bands
  - Plug Power Cord from Power Brick to Black 10-Outlet Power Strip
  - Plug Round Cord from Power Brick to Power Port on left side of Input Panel on back of MSI monitor
- Video In:
  - (See Mac Laptop) Plug HDMI Cable from Mac Laptop HDMI Port to HDMI Input on back of MSI Monitor

#### NEC Monitor
- Placement:
  - On Stage, RIGHT side of Score Keeper chair
- Power:
  - Power Brick & Cables attached by Black Binder Clip
  - Plug Power Cord from Power Brick to Black 10-Outlet Power Strip
  - Plug Round Cord from Power Brick to Power Input adapter attached to back of monitor
- Video In:
  - (See Windows Laptop) Connect VGA Cable attached to back of NEC Monitor + VGA to USB-C Adapter into USB-C port on LEFT side of Windows Laptop

#### USB-A Keyboard
- Placement:
  - (See NEC Monitor) On Stage, in front of NEC Monitor next to Score Keeper
- Connection (See Windows Laptop):
  - Connect USB-A cable to Blue USB-A Extension Cable IN
  - Plug Blue USB-A Extension Cable OUT into USB-A port on left side of Windows Laptop

#### (TBD) ATEM Mini Pro SDI ISO Control Unit
- TBD

### Livestreaming Cameras

#### iPhone XS
- Change case to Black Moment Case
- Attach 18mm Wide Angle Lens to Case
- Charge Phone to 100%
- Mount Phone in chosen location:
  - Turn 2: 
    - Attach Phone to Mount already in place
    - Attach Power Bank with velcro
  - Turn 4: 
    - Attach Phone and Power Bank to Dual Phone Mount with Clamp
    - Attach Clamp to Mic Stand above Turn 4
- Video Out (to be updated):
  - Screen Mirror to Airserver on Mac, or
  - Attach Hollyland Wireless Transmitter, or
  - Attach Lighting to HDMI + HDMI to SDI adapter + SDI Cable to ATEM Mini
- Launch Camera app:
  - Open Black Magic Design camera app
  - Double check that entire Derby Track is in view
  - Press Record at 7:45 PM

#### E Samsung 23 Ultra
- E will attach to Dual Phone Mount
- Video Out (to be updated):
  - Screen Mirror to Airserver on Windows Laptop, or
  - Attach Hollyland Wireless Transmitter

#### (TBD) PTZ Camera
- Mount on Tall Tripod at Turn 2
- Power:
  - Connect Power Brick to Extension Cord to Wall in Storage Closet, or
  - Power over Ethernet (PoE)
- Sending video signal:
  - Ethernet --> NDI --> OBS, or
  - SDI to ATEM Mini

#### (TBD) Static Broadcast Camera
- TBD


### Livestreaming Accessories

#### (TBD) PTZ Joystick/Keyboard
- Place on Computer Desk next to Keyboard
- Connect Power:
  - Power Brick to Black 10-outlet Power Strip, or
  - Power over Ethernet (PoE)

#### (TBD) XBOX Controller as PTZ Controller
- TBD

#### (TBD) Headset/Mic
- Connect with:
  - E to coordinate camera angles
  - Goat to coordinate audio levels
  - Chat Moderator
  - Official/Coordinator for timeout/halftime/relevant game updates


## Livestreaming Software Setup

### Mac Laptop:

#### OBS Studio
- Main Control Window:
  - Scenes:
    - Turn 1
    - Turn 2
    - Turn 3
    - Turn 4
    - CKO Fullscreen Logo
  - Sources:
    - Banner (CKO Scoreboard Banner)
      - Player 1
      - Player 1 - Score
      - Player 2
      - Player 2 - Score
      - Timers (Livetext.html)
        - CKO Logo & Period/Jam/Timers (TBD)
      - Background
    - iPhone XS (AirServer on Mac)
    - USB Video
      - Eddie Samsung 23 Ultra via AirServer on Windows Laptop
    - (TBD) PTZ Camera
    - CKO Logo
  - Audio Mixer:
    - Desktop Audio (TBD)
    - Mic/Aux
      - Set this to Scarlet 2i2 (USB Audio Interface)
  - Scene Transition:
    - Fade 300 ms
  - Controls:
    - Start Streaming (Twitch)
    - Start Recording (TBD)
    - Start Virtual Camera (for screen sharing; not needed now)
    - Studio Mode (show Preview before transitioning Scenes)
    - Settings (TBD)
  - Twitch Info:
    - Chat Window
    - Stream Information
    - Activity Feed
- (Optional) Twitch Status Window
- (Optional) PTZ Controls
- (Optional) Multicam View

#### Visual Studio Code
- SSH Settings:
  - Go to Settings --> General --> Remote Login
  - Click `i` next to Remote Login Button
  - Get local address (default should be abbas@squirrelfeeder)
  - (See Windows Laptop) Use this to login from Visual Studio Code on Windows Laptop to update score
- JSON Scorekeeper
  - Update Team Scores --> Send to OBS Banner
- Livetext (HTML)
  - Update Team Names, Fonts, Colors
    - NOTE: OBS doesn't seem to allow HEX Colors
  - CKO Logo (Center of Banner)
  - (TBD) Period/Time/Jam Timer/Jam Number
  
#### AirServer
- Use Apple Airplay to Wirelessly Screen Mirror iPhone XS
- Add to OBS:
  - Add Source: **macOS Screen Capture**
  - Settings:
    - Method: Application
    - Display: Built-in Retina (or other monitor that shows AirServer)
    - Application:  AirServer

#### (TBD) Safari (or any Browser)
- Verizon DNS Server
- PTZ Camera Menu
- PTZ Keyboard Menu
- Other Browser sources into OBS

#### (TBD) NDI Video Monitor
- Monitor any video source over NDI
- This was used for the PTZ Rental
- Use with NDI Virtual Input and NDI Scan Converter to create/send Screen, Application, Browser, etc, to OBS

#### (TBD) ATEM Mini Control

#### (TBD) Premier Pro

### Windows Laptop
#### Visual Studio Code
- SSH (Button in Lower Left Corner)
  - Connect to `abbas@squirrelfeeder`
  - Check local address under Settings --> General --> Sharing --> Remote Login --> Info
  - Click Button in lower left corner of Visual Studio Code UI
  - Open Folder `Users/abbas/json_scorekeeper`
  - Open file `scoreboard.json`
- JSON Scorekeeper
  - Update Team Scores in `scoreboard.json` file
  - Send to OBS Banner (see Mac Laptop)
  
#### AirServer
- Use Samsung Screen Share to Wirelessly Screen Mirror Eddie's Samsung 23 Ultra
- Add to OBS via USB-HDMI Input on Mac Laptop

### (TBD) ATEM Mini Pro

## Additional Recording Hardware Setup

### Cameras

#### DJI Osmo 3:
- Placement:
  - Attach Camera Cage around Camera
  - Attach Camera to round Camera Base
  - Attach round Camera Base to Phone Mount 1
  - Attach Power Bank to Phone Mount 2
  - Attach Mount Clamp to Microphone Stand above Turn 2
- Power:
  - Before mounting, Charge camera to 100% with USB-C charging cable
  - After mounting, connect USB-C port on side of Camera to Power Bank
  - Important: please make sure the Power Bank is charging the Camera, and not the other way around! This happened before and will drain the Camera battery quickly.
- Memory:
  - Samsung 256 GB V30 microSD card, or
  - Use any memory card with at least 64 GB memory and at least V30 speed
- Recording:
  - Press gray square power button on the side of the camera to turn on
  - Adjust camera position to make sure entire track is in camera view
  - Press red circle button on top of camera to begin recording at 7:45

#### GoPro Hero 3:
- Placement:
  - Attach camera to phone mount
  - Attach mount clamp to microphone stand at turn 3
- Power:
  - Before, mounting, Charge Camera to 100% with Micro USB charging cable
  - After mounting, connect Micro USB charging cable to Camera
  - Connect USB-A end of charging cable to USB extension cable
  - Connect USB extension cable to power brick
    - Note:  I'm using the USB extension to avoid the weight of the Green Extension Cord outlet pulling on the Camera if we plug directly into it
  - Connect Power Brick to Long Green Extension Cord
  - Connect Long Green Extension Cord to Three Prong Green Extension Cord behind Speaker 2
- Memory:
  - Samsung 64 GB V10 microSD card, or
  - Use any memory card with at least 64 GB memory and at least V10 speed
- Camera Positioning:
  - Press gray circle power button on the front of the camera to turn on
  - GoPro camera does not have its own screen, and the HDMI OUT is fussy
  - Use iPhone XS as monitor:
    - Open settings --> WiFi on iPhone XS and connect to GoPro WiFi (PowerLord)
    - Open GoPro Quik app on iPhone XS
      - Tap continue as guest
      - Tap GoPro in lower right corner
      - Tap connect to this camera (Powerlord)
    - Repeat above process as many times as necessary until camera connects or until you run out of patience
    - If successful, GoPro view will appear on iPhone
    - Adjust camera position until entire track is in view
    - Close app and reconnect iPhone to CKO Homewood WiFi
    - Important: please don’t forget to change back to CKO Homewood WiFi. This is necessary if using Air Server connection (see Mac Laptop).
  - (TBD) try USB to HDMI adapter into Windows laptop before setting the Laptop up for Livestream
- Recording:
  - Press red circle button on top of camera to begin recording at 7:45
